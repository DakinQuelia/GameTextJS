<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu :: Création du personnage</title>
    <link rel="stylesheet" href="assets/css/game.css" />
</head>
<body>
    <script type="module" defer>
        import { PlayerInit } from './scripts/game/alias.js';
        
        await PlayerInit();
    </script>
    <main class="container-fluid mt-10">
        <div class="form">
            <form action="/post" method="post" name="post" enctype="multipart/form-data">
                <input type="hidden" name="stats_vigor" id="stats_vigor" value="0" />
                <input type="hidden" name="stats_willingness" id="stats_willingness" value="0" />
                <input type="hidden" name="stats_reflex" id="stats_reflex" value="0" />
                <div class="sheet-infos">
                    <h1>Création du personnage</h1>
                    <p>Ce formulaire vous permet de créer votre personnage.</p>
                </div>
                <div class="game-container">
                    <!-- Erreur :: Nombre élevé -->
                    <div class="sheet-row error" id="errors" style="display: none;">
                        <div class="sheet full">
                            <div class="sheet-header">Erreur(s)</div>
                            <div class="sheet-content">
                                <ul class="errors"></ul>
                            </div> 
                        </div>
                    </div>
                    <!-- Fin des Erreurs -->
                    <div class="sheet-row">
                        <div class="sheet full">
                            <div class="sheet-header">Personnage</div>
                            <div class="sheet-content">
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name">Classe(s) du personnage</div>
                                    </span>
                                    <span>
                                        <select name="character_class" id="character_class"></select>
                                        <span tabindex="0" id="gcopy" data-title="Ce bouton vous permet de générer les caractéristiques à partir de la classe sélectionnée.">
                                            <i class="fas fa-copy button-icon"></i>
                                        </span>
                                    </span>
                                </div>
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name">Nom du personnage</div>
                                    </span>
                                    <span>
                                        <input type="text" name="character_name" id="character_name" value="" />
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="sheet-row">
                        <div class="sheet">
                            <div class="sheet-header" id="points_stats">
                                <span class="title">Caractéristiques</span>
                                <span class="points">30 points</span> 
                            </div>
                            <div class="sheet-content" id="stats">
                                <!-- Statistique :: Force -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[1]" data-title="La Force évalue la puissance physique et la musculature de votre personnage.">Force</div>
                                    </span>
                                    <span id="inputstat">
                                        <input type="number" name="stats_strength" id="stats_strength" value="0" min="0" max="18" />
                                    </span>
                                </div>
                                <!-- Statistique :: Dextérité -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[2]" data-title="La Dextérité représente l'agilité et les réflexes du personnage.">Dextérité</div>
                                    </span>
                                    <span id="inputstat">
                                        <input type="number" name="stats_dexterity" id="stats_dexterity" value="0" min="0" max="18" />
                                    </span>
                                </div>
                                <!-- Statistique :: Constitution -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[3]" data-title="La Constitution représente la santé du personnage.">Constitution</div>
                                    </span>
                                    <span id="inputstat">
                                        <input type="number" name="stats_constitution" id="stats_constitution" value="0" min="0" max="18" />
                                    </span>
                                </div>
                                <!-- Statistique :: Intelligence -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[4]" data-title="L'Intelligence détermine les facultés d'apprentissage et de raisonnement de votre personnage.">Intelligence</div>
                                    </span>
                                    <span id="inputstat">
                                        <input type="number" name="stats_intelligence" id="stats_intelligence" value="0" min="0" max="18" />
                                    </span>
                                </div>
                                <!-- Statistique :: Sagesse -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[5]" data-title="La Sagesse permet d'évaluer la volonté et les perceptions.">Sagesse</div>
                                    </span>
                                    <span id="inputstat">
                                        <input type="number" name="stats_wisdom" id="stats_wisdom" value="0" min="0" max="18" />
                                    </span>
                                </div>
                                <!-- Statistique :: Charisme -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[6]" data-title="Un Charisme élevé augmente la puissance des pouvoirs de la Force. Il permet de réduire le malus appliqué lors de l'utilisation de pouvoir de la Force d'un alignement opposé, mais aussi d'augmenter la précision de vos compagnons. Enfin, le Charisme influe sur les facultés de persuasion." data-placement="right">Charisme</div>
                                    </span>
                                    <span id="inputstat">
                                        <input type="number" name="stats_charisma" id="stats_charisma" value="0" min="0" max="18" />
                                    </span>
                                </div>
                                <div class="separator"></div>
                                <!-- Statistique :: Vigueur -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[7]" data-title="" data-placement="right">Vigueur</div>
                                    </span>
                                    <span id="inputstat">
                                        <span class="input-stat" name="stats_vigor" id="stats_vigor" data-value="4">4</span>
                                    </span>
                                </div>
                                <!-- Statistique :: Réflexes -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[9]" data-title="" data-placement="right">Réflexes</div>
                                    </span>
                                    <span id="inputstat">
                                        <span class="input-stat" name="stats_reflex" id="stats_reflex" data-value="4">4</span>
                                    </span>
                                </div>
                                <!-- Statistique :: Volonté -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="stat[8]" data-title="" data-placement="right">Volonté</div>
                                    </span>
                                    <span id="inputstat">
                                        <span class="input-stat" name="stats_willingness" id="stats_willingness" data-value="2">2</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="sheet">
                            <div class="sheet-header" id="points_skills">
                                <span class="title">Compétences</span>
                                <span class="points">20 points</span>
                            </div>
                            <div class="sheet-content" id="skills">
                                <!-- Compétence :: Informatique -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[1]" >Informatique</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_inf" id="skills_inf" value="0" min="0" />
                                    </span>
                                </div>
                                <!-- Compétence :: Démolition -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[2]">Démolition</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_demo" id="skills_demo" value="0" min="0" />
                                    </span>
                                </div>
                                <!-- Compétence :: Discrétion -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[3]">Discrétion</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_dis" id="skills_dis" value="0" min="0" />
                                    </span>   
                                </div>
                                <!-- Compétence :: Vigilance -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[4]">Vigilance</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_vig" id="skills_vig" value="0" min="0" />
                                    </span> 
                                </div>
                                <!-- Compétence :: Persuasion -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[5]">Persuasion</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_per" id="skills_per" value="0" min="0" />
                                    </span>
                                </div>
                                <!-- Compétence :: Réparation -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[6]">Réparation</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_rep" id="skills_rep" value="0" min="0" />
                                    </span>
                                </div>
                                <!-- Compétence :: Sécurité -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[7]">Sécurité</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_sec" id="skills_sec" value="0" min="0" />
                                    </span>
                                </div>
                                <!-- Compétence :: Premiers Secours -->
                                <div class="sub-category">
                                    <span>
                                        <div class="category-name" id="skill[8]">Premiers Secours</div>
                                    </span>
                                    <span id="inputskill">
                                        <input type="number" name="skills_health" id="skills_health" value="0" min="0" />
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="sheet">
                            <div class="sheet-header center">Informations</div>
                            <div class="sheet-content" id="informations">
                                <p>Les caractéristiques de votre personnage lui donnent des bonus ou des malus à de nombreux jets (combat, etc) et pouvoirs (y compris ceux dus à la Force). 
                                Reportez-vous à chaque caractéristique pour voir sur quels aspects du jeu elle influe.</p>
                                <p>Une valeur est associée à chacune des compétences de votre personnage. Il s'agit du degré de maîtrise qu'il a atteint dans cette compétence, et c'est cela
                                qui détermine son efficacité quand il y fait appel. Chaque fois que l'on utilise une compétence pour accomplir une tâche, le degré de maîtrise du personnage 
                                est comparé au degré de difficulté (ou DD) de la tâche en question.</p>
                            </div>
                        </div>
                    </div>
                    <!-- 
                    <div class="sheet-row">
                        <div class="sheet">
                            <div class="sheet-header" id="points_stats">
                                <span class="title">Autres caractéristiques</span>
                                <span class="points">?? points</span> 
                            </div>
                            <div class="sheet-content" id="blbla">
                                Informations
                            </div>
                        </div>
                    </div>
                    -->
                </div>
                <!-- Outil :: Générateur -->
                <div id="generator" style="display: none;">
                    <div class="large-box">
                        <div class="large-box-header">Spécialités autres & secret(s) :</div>
                        <div class="large-box-content">
                            <textarea name="specialites_autres_secrets" placeholder="Entrez ici vos spécialités autres et secrets..."></textarea>
                        </div>
                    </div>
                    <div class="large-box">
                        <div class="large-box-header">Commentaires</div>
                        <div class="large-box-content">
                            <textarea name="commentaires" placeholder="Entrez ici vos commentaires..."></textarea>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <span style="color:red;" id="errormsg"></span><br />
                        <label>
                            <span style="color:brown;">Le titre du sujet sera créé automatiquement !</span>
                        </label>
                        <button type="button" id="genfile">Générer la fiche</button>
                    </div>
                </div>
                <!-- Boutons -->
                <div class="sheet-buttons">
                    <button type="button" id="cancel" name="cancel">Annuler</button>
                    <button type="button" id="play" name="play" class="jsmodal" data-href="#playwindow">Jouer</button>
                </div>
            </form>
        </div>
        <div id="modals">
            <!-- Fenêtre :: Générateur -->
            <div id="playwindow" class="modal" aria-hidden="true" role="dialog" aria-labelledby="titlemodal" style="display: none;">
                <div class="modal-wrapper" id="modalstop">
                    <div class="modal-header">
                        <button class="modal-button close" id="close"><i class="fas fa-times"></i></button>
                        <span class="modal-title" id="titlemodal">Jeu</span>
                    </div>
                    <div class="modal-content">
                        <p style="color: #FF0000;">Cette fonctionnalité n'a pas encore été implémentée.</p>  
                    </div>
                    <div class="modal-footer">
                        <div class="left"></div> 
                        <div class="right"><button class="modal-button" type="button" id="btnclose">Fermer</button></div> 
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer></footer>
</body>
</html>